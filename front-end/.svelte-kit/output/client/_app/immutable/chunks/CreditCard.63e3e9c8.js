import{s as E,e as D,i as k,A as T,d as _,J as H,o as I,f as w,g,h as N,j as b,P as O,v as z,y as U,a as q,c as W,B as Z,F as K,k as L,w as j,G as Q,H as X,I as Y}from"./scheduler.ebd51d3c.js";import{S as J,i as F,a as p,g as G,t as y,c as P,b as x,d as $,m as ee,e as te}from"./index.d591bbc4.js";import{l as B,c as le}from"./functions.839aea76.js";import{w as re}from"./index.06531a3e.js";function S(s){let t;function l(n,a){return n[0]=="both"?oe:n[0]=="updating"?ae:n[0]==n[2].Wallet?ie:n[0]==n[2].Tracking?se:ne}let e=l(s),r=e(s);return{c(){t=w("div"),r.c(),this.h()},l(n){t=g(n,"DIV",{class:!0});var a=N(t);r.l(a),a.forEach(_),this.h()},h(){b(t,"class","flex flex-row my-6 justify-center z-10")},m(n,a){k(n,t,a),r.m(t,null)},p(n,a){e===(e=l(n))&&r?r.p(n,a):(r.d(1),r=e(n),r&&(r.c(),r.m(t,null)))},d(n){n&&_(t),r.d()}}}function ne(s){let t,l="Loading...";return{c(){t=w("div"),t.textContent=l},l(e){t=g(e,"DIV",{"data-svelte-h":!0}),z(t)!=="svelte-194gxkm"&&(t.textContent=l)},m(e,r){k(e,t,r)},p:T,d(e){e&&_(t)}}}function se(s){let t,l="Stop tracking this Card",e,r;return{c(){t=w("button"),t.textContent=l,this.h()},l(n){t=g(n,"BUTTON",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1l0zsy5"&&(t.textContent=l),this.h()},h(){b(t,"class","btn bg-theme-red hover:bg-theme-red-hov svelte-1q32z87")},m(n,a){k(n,t,a),e||(r=U(t,"click",s[10]),e=!0)},p:T,d(n){n&&_(t),e=!1,r()}}}function ie(s){let t,l="Remove Card from wallet",e,r;return{c(){t=w("button"),t.textContent=l,this.h()},l(n){t=g(n,"BUTTON",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-wrv8y5"&&(t.textContent=l),this.h()},h(){b(t,"class","btn bg-theme-red hover:bg-theme-red-hov svelte-1q32z87")},m(n,a){k(n,t,a),e||(r=U(t,"click",s[9]),e=!0)},p:T,d(n){n&&_(t),e=!1,r()}}}function ae(s){let t,l="Updating...";return{c(){t=w("div"),t.textContent=l},l(e){t=g(e,"DIV",{"data-svelte-h":!0}),z(t)!=="svelte-z47996"&&(t.textContent=l)},m(e,r){k(e,t,r)},p:T,d(e){e&&_(t)}}}function oe(s){let t,l=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4 inline"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"></path></svg>
              Add to Wallet`,e,r,n=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-4 w-4 inline"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"></path></svg>
              Track`,a,f;return{c(){t=w("button"),t.innerHTML=l,e=q(),r=w("button"),r.innerHTML=n,this.h()},l(u){t=g(u,"BUTTON",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-uz3b0h"&&(t.innerHTML=l),e=W(u),r=g(u,"BUTTON",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-5254u7"&&(r.innerHTML=n),this.h()},h(){b(t,"class","btn mr-1 bg-theme-blue hover:bg-theme-blue-hov svelte-1q32z87"),b(r,"class","btn ml-1 bg-theme-blue hover:bg-theme-blue-hov svelte-1q32z87")},m(u,m){k(u,t,m),k(u,e,m),k(u,r,m),a||(f=[U(t,"click",s[7]),U(r,"click",s[8])],a=!0)},p:T,d(u){u&&(_(t),_(e),_(r)),a=!1,Z(f)}}}function ce(s){let t,l=s[1]&&S(s);return{c(){l&&l.c(),t=D()},l(e){l&&l.l(e),t=D()},m(e,r){l&&l.m(e,r),k(e,t,r)},p(e,[r]){e[1]?l?l.p(e,r):(l=S(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:T,o:T,d(e){e&&_(t),l&&l.d(e)}}}function fe(s,t,l){let e,r;H(s,B,i=>l(6,r=i));let{id:n}=t;var a=(i=>(i.Wallet="wallet",i.Tracking="tracking",i))(a||{});let f;I(()=>{e&&(e.wallet&&e.wallet.includes(n)?l(0,f="wallet"):e.tracking&&e.tracking.includes(n)?l(0,f="tracking"):l(0,f="both"))});function u(i){e&&(e[i].push(n),l(0,f="updating"),O(B,r=JSON.stringify(e),r),l(0,f=i))}function m(i){e&&(e[i].filter(C=>C!=n),l(0,f="updating"),l(1,e[i]=e[i].filter(C=>C!=n),e),O(B,r=JSON.stringify(e),r),l(0,f="both"))}const v=()=>u(a.Wallet),d=()=>u(a.Tracking),c=()=>m(a.Wallet),o=()=>m(a.Tracking);return s.$$set=i=>{"id"in i&&l(5,n=i.id)},s.$$.update=()=>{s.$$.dirty&64&&l(1,e=le(r))},[f,e,a,u,m,n,r,v,d,c,o]}class ue extends J{constructor(t){super(),F(this,t,fe,ce,E,{id:5})}}function V(s){let t,l,e,r,n,a,f,u,m;const v=s[8].default,d=K(v,s,s[7],null);let c=s[1]&&s[0].card_id&&A(s);return{c(){t=w("div"),l=w("button"),e=w("div"),d&&d.c(),n=q(),c&&c.c(),this.h()},l(o){t=g(o,"DIV",{class:!0});var i=N(t);l=g(i,"BUTTON",{});var C=N(l);e=g(C,"DIV",{id:!0,class:!0,style:!0});var M=N(e);d&&d.l(M),M.forEach(_),C.forEach(_),n=W(i),c&&c.l(i),i.forEach(_),this.h()},h(){b(e,"id","creditCard"),b(e,"class",r="creditCard z-20 flex flex-col items-center justify-evenly "+(s[2]?"shadow-2xl shadow-theme-shadow dark:shadow-theme-shadow-dark":"")+" svelte-46sg9u"),L(e,"background-color",s[0].card_color),L(e,"background-image","url('/storage/"+s[0].card_url+".jpeg')"),b(t,"class",a=(s[1]&&s[0].card_id?" items-center":"")+" flex flex-col")},m(o,i){k(o,t,i),j(t,l),j(l,e),d&&d.m(e,null),j(t,n),c&&c.m(t,null),f=!0,u||(m=U(l,"click",s[4]),u=!0)},p(o,i){d&&d.p&&(!f||i&128)&&Q(d,v,o,o[7],f?Y(v,o[7],i,null):X(o[7]),null),(!f||i&4&&r!==(r="creditCard z-20 flex flex-col items-center justify-evenly "+(o[2]?"shadow-2xl shadow-theme-shadow dark:shadow-theme-shadow-dark":"")+" svelte-46sg9u"))&&b(e,"class",r),(!f||i&1)&&L(e,"background-color",o[0].card_color),(!f||i&1)&&L(e,"background-image","url('/storage/"+o[0].card_url+".jpeg')"),o[1]&&o[0].card_id?c?(c.p(o,i),i&3&&p(c,1)):(c=A(o),c.c(),p(c,1),c.m(t,null)):c&&(G(),y(c,1,1,()=>{c=null}),P()),(!f||i&3&&a!==(a=(o[1]&&o[0].card_id?" items-center":"")+" flex flex-col"))&&b(t,"class",a)},i(o){f||(p(d,o),p(c),f=!0)},o(o){y(d,o),y(c),f=!1},d(o){o&&_(t),d&&d.d(o),c&&c.d(),u=!1,m()}}}function A(s){let t,l;return t=new ue({props:{id:s[0].card_id}}),{c(){x(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,r){ee(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.id=e[0].card_id),t.$set(n)},i(e){l||(p(t.$$.fragment,e),l=!0)},o(e){y(t.$$.fragment,e),l=!1},d(e){te(t,e)}}}function de(s){let t,l,e=s[0]&&s[0].card_url&&V(s);return{c(){e&&e.c(),t=D()},l(r){e&&e.l(r),t=D()},m(r,n){e&&e.m(r,n),k(r,t,n),l=!0},p(r,[n]){r[0]&&r[0].card_url?e?(e.p(r,n),n&1&&p(e,1)):(e=V(r),e.c(),p(e,1),e.m(t.parentNode,t)):e&&(G(),y(e,1,1,()=>{e=null}),P())},i(r){l||(p(e),l=!0)},o(r){y(e),l=!1},d(r){r&&_(t),e&&e.d(r)}}}function he(s,t,l){let e,{$$slots:r={},$$scope:n}=t,{card:a}=t,{showTrackCard:f=!1}=t,{allowClick:u=!0}=t,{shadow:m=!0}=t,{altLink:v=void 0}=t;const d=re(!1);H(s,d,h=>l(11,e=h));let c=0,o=`/card/${a.card_url}`;v&&(o=v);const i=()=>{d.set(window.matchMedia("(max-width: 640px)").matches)};I(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));function C(h){u&&(e?R(h):M())}function M(){u&&(window.location.href=o)}function R(h){h.preventDefault(),c+=1,u&&c===2&&(window.location.href=o,c=0),setTimeout(()=>c=0,1e3)}return s.$$set=h=>{"card"in h&&l(0,a=h.card),"showTrackCard"in h&&l(1,f=h.showTrackCard),"allowClick"in h&&l(5,u=h.allowClick),"shadow"in h&&l(2,m=h.shadow),"altLink"in h&&l(6,v=h.altLink),"$$scope"in h&&l(7,n=h.$$scope)},[a,f,m,d,C,u,v,n,r]}class be extends J{constructor(t){super(),F(this,t,he,de,E,{card:0,showTrackCard:1,allowClick:5,shadow:2,altLink:6})}}export{be as C};
